(this.webpackJsonpblink=this.webpackJsonpblink||[]).push([[0],{116:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(3),r=n.n(c),s=n(6),i=n(1),o=n.n(i),l=n(58),u=n.n(l),d=n(4),j=(n(84),n(15)),b=n(11),h=n(0);var m=function(){return Object(h.jsxs)("div",{className:"flex md:text-2xl text:lg justify-between bg-gradient-to-r from-yellow-400 to-yellow-100 ",children:[Object(h.jsx)("div",{className:" p-3 mx-2 justify-self-start transition duration-500 ease-in-out transform hover:-translate-y-1",children:Object(h.jsx)(j.b,{to:"/",children:"Home"})}),Object(h.jsxs)("div",{className:"flex md:pr-3 ",children:[Object(h.jsx)("div",{className:" md:p-3 p-2 mx-2 transition duration-500 ease-in-out transform hover:-translate-y-1",children:Object(h.jsx)(j.b,{to:"/chat",children:"Chat"})}),Object(h.jsx)("div",{className:" md:p-3 p-2 mx-2 transition duration-500 ease-in-out transform hover:-translate-y-1",children:Object(h.jsx)(j.b,{to:"/organizations",children:"Organizations"})}),Object(h.jsx)("div",{className:" md:p-3 p-2 mx-2 transition duration-500 ease-in-out transform hover:-translate-y-1",children:Object(h.jsx)(j.b,{to:"/call",children:"Call"})}),Object(h.jsx)("div",{className:" md:p-3 p-2 mx-2 transition duration-500 ease-in-out transform hover:-translate-y-1",children:Object(h.jsx)(j.b,{to:"/test",children:"Test"})})]})]})};var f=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{}),Object(h.jsx)("title",{children:"Blink - Intuitive Learning"}),Object(h.jsx)("h3",{children:" lol1 "}),Object(h.jsx)("div",{className:"bg-red-200",children:"Hello World"})]})},p=n.p+"static/media/LogoB.5174b438.png",x=n(63),v=n.n(x),g=n(60),O=n.n(g),y=n(64),N=n.n(y);var w=function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){console.log(e),e.isIntersecting?e.target.classList.add("animate-fadeIn"):e.target.classList.remove("animate-fadeIn")}))}));return document.querySelectorAll(".js-show-on-scroll").forEach((function(t){t.classList.add("opacity-0"),e.observe(t)})),Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{}),Object(h.jsx)("title",{children:"Blink - Intuitive Learning"}),Object(h.jsxs)("div",{className:"h-screen bg-red-200",children:[Object(h.jsx)("div",{className:"absolute top-4/10 left-1/2 transform -translate-x-1/4",children:Object(h.jsx)("img",{className:"w-1/2",src:p,alt:"Blink"})}),Object(h.jsx)(j.b,{to:"/login",className:"absolute left-1/2 top-3/4 transform -translate-x-1/2 bg-blue-200 px-10 py-2 rounded-full text-2xl",children:"Login"})]}),Object(h.jsxs)("div",{className:"h-screen bg-gradient-to-b from-red-200 to-white flex flex-col items-center",children:[Object(h.jsx)("div",{className:"mt-20 mb-10 text-4xl font-bold",children:" About us"}),Object(h.jsxs)("div",{className:"bg-white h-1/2 w-2/4 rounded-lg shadow-lg transform hover:scale-110 duration-700 ease-in-out",children:[Object(h.jsx)("div",{className:"p-6 text-lg font-medium",children:"We are dedicated to bridging the gap between interactive learning and the online environment for students and teachers. Blink strives to promote an enganging setting that follows in-person learning through real-time interactive classroom activities. With a more connective present, the horizons of the future becomes limitless."}),Object(h.jsxs)("div",{className:"absolute bottom-0 bg-blue-100 w-full h-1/3 p-4 font-semibold",children:['"Blink is the only application that scales on large classrooms. It\'s easy to adapt, improve, and design classroom environments."',Object(h.jsx)("div",{className:"font-light text-sm text-red-500",children:"-Martha Excalibus"}),Object(h.jsx)("div",{className:"font-light text-sm",children:"Elementary School Teacher, Texas"})]})]})]}),Object(h.jsxs)("div",{className:"h-screen flex justify-center flex-wrap",children:[Object(h.jsx)("div",{className:"mt-20  text-4xl font-bold w-full text-center",children:" Getting Started"}),Object(h.jsxs)("div",{className:"grid grid-cols-3 gap-4 h-3/5 w-1/2 text-2xl font-semibold",children:[Object(h.jsxs)("div",{className:"rounded-xl bg-red-200 transform hover:skew-y-6 transition duration-300",children:[Object(h.jsx)("div",{className:"w-full h-1/6 bg-blue-100 rounded-t-xl flex justify-center items-center",children:"Discover"}),Object(h.jsx)("div",{className:"p-4 text-lg font-normal h-1/2",children:"Click here to view information on how to use Blink and its features more closely"}),Object(h.jsx)("div",{className:"w-full flex justify-center",children:Object(h.jsx)(O.a,{style:{fontSize:150}})})]}),Object(h.jsxs)("div",{className:"rounded-xl bg-red-200 transform hover:skew-y-6 transition duration-300",children:[Object(h.jsx)("div",{className:"w-full h-1/6 bg-blue-100 rounded-t-xl flex justify-center items-center",children:"Pricing"}),Object(h.jsx)("div",{className:"p-4 text-lg font-normal h-1/2",children:"Check out pricing options based on your needed level of classroom activity"}),Object(h.jsx)("div",{className:"w-full flex justify-center",children:Object(h.jsx)(v.a,{style:{fontSize:150}})})]}),Object(h.jsxs)("div",{className:"rounded-xl bg-red-200 transform hover:skew-y-6 transition duration-300",children:[Object(h.jsx)("div",{className:"w-full h-1/6 bg-blue-100 rounded-t-xl flex justify-center items-center",children:"Reach Out"}),Object(h.jsx)("div",{className:"p-4 text-lg font-normal h-1/2",children:"Feel free to send any questions our way using any form of communication. Click here for all the options to reach out."}),Object(h.jsx)("div",{className:"w-full flex justify-center",children:Object(h.jsx)(N.a,{style:{fontSize:150}})})]})]})]})]})};n(94);var k=function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("li",{className:"cards__item",children:Object(h.jsxs)("a",{className:"cards__item__link",href:e.path,target:"",children:[Object(h.jsx)("figure",{className:"cards__item__pic-wrap","data-category":e.label,children:Object(h.jsx)("img",{className:"cards__item__img",alt:"image",src:e.src})}),Object(h.jsx)("div",{className:"cards__item__info",children:Object(h.jsx)("h5",{className:"cards__item__text",children:e.text})})]})})})},C=n.p+"static/media/class.be3579b6.jpg";var T=function(){return Object(h.jsxs)("div",{className:"cards h-screen",children:[Object(h.jsx)("title",{children:"Organizations"}),Object(h.jsx)("p",{children:"My classes"}),Object(h.jsx)("div",{className:"cards__container",children:Object(h.jsx)("div",{className:"cards__wrapper",children:Object(h.jsxs)("ul",{className:"cards__items",children:[Object(h.jsx)(k,{src:C,text:"Mathematics / 11:30 - 12:30",label:"Mrs. BJ\xd6RKSN\xc4S",path:"/studentview"}),Object(h.jsx)(k,{src:C,text:"Science / 1:00 - 2:00",label:"Mr. FJ\xc4DERMOLN",path:"/studentview"}),Object(h.jsx)(k,{src:C,text:"English / 9:30 - 10:30",label:"Mr. FR\xd6JERED",path:"/studentview"})]})})})]})};var I=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{}),Object(h.jsx)(T,{})]})},M=n(7),S=n(28),_={mode:"rtc",codec:"vp8",appId:"79bfd2935ce0436e83cd173585a8a29f",token:"00679bfd2935ce0436e83cd173585a8a29fIAC6laYYqcqc+1fZv7cyLN6U4S5BfsBQxV5ElM8eQ+2lL2TNKL8AAAAAEAApikci8zdaYQEAAQDzN1ph"},A=Object(S.createClient)(_),L=Object(S.createMicrophoneAndCameraTracks)(),E="main",F=n(127);function P(e){var t=e.users,n=e.tracks,c=Object(i.useState)(12),r=Object(a.a)(c,2),s=r[0],o=r[1];return Object(i.useEffect)((function(){o(Math.max(Math.floor(12/(t.length+1)),4))}),[t,n]),Object(h.jsxs)(F.a,{container:!0,style:{height:"100%"},children:[Object(h.jsx)(F.a,{item:!0,xs:s,children:Object(h.jsx)(S.AgoraVideoPlayer,{videoTrack:n[1],style:{height:"100%",width:"100%"}})}),t.length>0&&t.map((function(e){return e.videoTrack?Object(h.jsx)(F.a,{item:!0,xs:s,children:Object(h.jsx)(S.AgoraVideoPlayer,{videoTrack:e.videoTrack,style:{height:"100%",width:"100%"}},e.uid)},e.uid):null}))]})}var D=n(23),B=n(65),U=n.n(B),z=n(66),J=n.n(z),q=n(67),R=n.n(q),V=n(68),Y=n.n(V),G=n(69),H=n.n(G);function Q(e){var t=A(),n=e.tracks,c=e.setStart,o=e.setInCall,l=Object(i.useState)({video:!0,audio:!0}),u=Object(a.a)(l,2),d=u[0],j=u[1],b=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("audio"!==t){e.next=6;break}return e.next=3,n[0].setEnabled(!d.audio);case 3:j((function(e){return Object(D.a)(Object(D.a)({},e),{},{audio:!e.audio})})),e.next=10;break;case 6:if("video"!==t){e.next=10;break}return e.next=9,n[1].setEnabled(!d.video);case 9:j((function(e){return Object(D.a)(Object(D.a)({},e),{},{video:!e.video})}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.leave();case 2:t.removeAllListeners(),n[0].close(),n[1].close(),c(!1),o(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"flex justify-between border-black border-solid border-2 w-1/4",children:[Object(h.jsx)("button",{onClick:function(){return b("audio")},children:d.audio?Object(h.jsx)(U.a,{}):Object(h.jsx)(J.a,{})}),Object(h.jsx)("button",{onClick:function(){return b("video")},children:d.video?Object(h.jsx)(R.a,{}):Object(h.jsx)(Y.a,{})}),Object(h.jsxs)("button",{onClick:function(){return m()},children:["Leave",Object(h.jsx)(H.a,{})]})]})}function W(e){var t=e.setInCall,n=Object(i.useState)([]),c=Object(a.a)(n,2),o=c[0],l=c[1],u=Object(i.useState)(!1),d=Object(a.a)(u,2),j=d[0],b=d[1],m=A(),f=L(),p=f.ready,x=f.tracks;return Object(i.useEffect)((function(){var e=function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.on("user-published",function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.subscribe(t,n);case 2:"video"===n&&l((function(e){return[].concat(Object(M.a)(e),[t])})),"audio"===n&&t.audioTrack.play();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),m.on("user-unpublished",(function(e,t){"audio"===t&&e.audioTrack&&e.audioTrack.stop(),"video"===t&&l((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),m.on("user-left",(function(e){l((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),n=!1,e.prev=4,e.next=7,m.join(_.appId,t,_.token,null);case 7:n=!0,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:if(!x||!n){e.next=16;break}return e.next=16,m.publish([x[0],x[1]]);case 16:b(!0);case 17:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();if(p&&x)try{e(E)}catch(t){console.log(t)}}),[E,m,p,x]),Object(h.jsxs)(F.a,{container:!0,className:"bg-pink-400 h-full",children:[Object(h.jsx)(F.a,{item:!0,className:"bg-yellow-100 h-5/6 w-full",children:j&&x&&Object(h.jsx)(P,{tracks:x,users:o})}),Object(h.jsx)(F.a,{item:!0,className:"bg-yellow-100 h-1/6 w-full",children:p&&x&&Object(h.jsx)(Q,{tracks:x,setStart:b,setInCall:t})})]})}var K=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(h.jsx)("div",{className:"border-2 border-green-400 border-solid h-screen",children:n?Object(h.jsx)("div",{className:"h-full w-full",children:Object(h.jsx)(W,{setInCall:c})}):Object(h.jsx)("button",{onClick:function(){return c(!0)},className:"bg-green-400 px-4 py-2 rounded",children:"Join Call"})})};var Z=function(){return Object(h.jsx)(K,{})},X=n(12),$=n.n(X);function ee(e){var t=Object(i.useState)(void 0),n=Object(a.a)(t,2),c=n[0],o=n[1],l=Object(i.useState)(void 0),u=Object(a.a)(l,2),d=u[0],j=u[1],b=Object(i.useState)(!1),h=Object(a.a)(b,2),m=h[0],f=h[1],p=Object(i.useState)([]),x=Object(a.a)(p,2),v=x[0],g=x[1];function O(e,t){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(r.a.mark((function e(t,n){var c,s,i,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.createMicrophoneAndCameraTracks(t,n);case 2:return c=e.sent,s=Object(a.a)(c,2),i=s[0],l=s[1],j(i),o(l),e.abrupt("return",[i,l]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(s.a)(r.a.mark((function t(n,c,s,i){var o,l,u,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,O();case 4:return o=t.sent,l=Object(a.a)(o,2),u=l[0],d=l[1],t.next=10,e.join(n,c,s||null);case 10:return t.next=12,e.publish([u,d]);case 12:window.client=e,window.videoTrack=d,f(!0);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d&&(d.stop(),d.close()),c&&(c.stop(),c.close()),g([]),f(!1),t.next=6,null===e||void 0===e?void 0:e.leave();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.useEffect)((function(){if(e){g(e.remoteUsers);var t=function(){var t=Object(s.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.subscribe(n,a);case 2:g((function(t){return Array.from(e.remoteUsers)}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),n=function(t){g((function(t){return Array.from(e.remoteUsers)}))},a=function(t){g((function(t){return Array.from(e.remoteUsers)}))},c=function(t){g((function(t){return Array.from(e.remoteUsers)}))};return e.on("user-published",t),e.on("user-unpublished",n),e.on("user-joined",a),e.on("user-left",c),function(){e.off("user-published",t),e.off("user-unpublished",n),e.off("user-joined",a),e.off("user-left",c)}}}),[e]),{localAudioTrack:d,localVideoTrack:c,joinState:m,leave:function(){return w.apply(this,arguments)},join:function(e,t,n,a){return N.apply(this,arguments)},remoteUsers:v}}var te=function(e){var t=Object(i.useRef)(null);return Object(i.useEffect)((function(){var n;if(t.current)return null===(n=e.videoTrack)||void 0===n||n.play(t.current),function(){var t;null===(t=e.videoTrack)||void 0===t||t.stop()}}),[t,e.videoTrack]),Object(i.useEffect)((function(){var t;e.audioTrack&&(null===(t=e.audioTrack)||void 0===t||t.play());return function(){var t;null===(t=e.audioTrack)||void 0===t||t.stop()}}),[e.audioTrack]),Object(h.jsx)("div",{ref:t,className:"video-player",style:{width:"320px",height:"240px"}})},ne=$.a.createClient({codec:"h264",mode:"rtc"});var ae=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(""),s=Object(a.a)(r,2),o=s[0],l=s[1],u=Object(i.useState)(""),d=Object(a.a)(u,2),j=d[0],b=d[1],m=ee(ne),f=(m.localAudioTrack,m.localVideoTrack),p=m.leave,x=m.join,v=m.joinState,g=m.remoteUsers;return Object(h.jsxs)("div",{className:"call",children:[Object(h.jsxs)("form",{className:"call-form",children:[Object(h.jsxs)("label",{children:["AppID:",Object(h.jsx)("input",{type:"text",name:"appid",onChange:function(e){c(e.target.value)}})]}),Object(h.jsxs)("label",{children:["Token(Optional):",Object(h.jsx)("input",{type:"text",name:"token",onChange:function(e){l(e.target.value)}})]}),Object(h.jsxs)("label",{children:["Channel:",Object(h.jsx)("input",{type:"text",name:"channel",onChange:function(e){b(e.target.value)}})]}),Object(h.jsxs)("div",{className:"button-group",children:[Object(h.jsx)("button",{id:"join",type:"button",className:"btn btn-primary btn-sm",disabled:v,onClick:function(){x(n,j,o)},children:"Join"}),Object(h.jsx)("button",{id:"leave",type:"button",className:"btn btn-primary btn-sm",disabled:!v,onClick:function(){p()},children:"Leave"})]})]}),Object(h.jsxs)("div",{className:"player-container",children:[Object(h.jsxs)("div",{className:"local-player-wrapper",children:[Object(h.jsxs)("p",{className:"local-player-text",children:[f&&"localTrack",v&&f?"(".concat(ne.uid,")"):""]}),Object(h.jsx)(te,{videoTrack:f,audioTrack:void 0})]}),g.map((function(e){return Object(h.jsxs)("div",{className:"remote-player-wrapper",children:[Object(h.jsx)("p",{className:"remote-player-text",children:"remoteVideo(".concat(e.uid,")")}),Object(h.jsx)(te,{videoTrack:e.videoTrack,audioTrack:e.audioTrack})]},e.uid)}))]})]})},ce=n(70);function re(){var e=Object(ce.a)(),t=e.register,n=e.handleSubmit,a=(e.watch,e.formState.errors);return Object(h.jsx)("div",{className:"h-screen bg-red-200 flex justify-center items-center",children:Object(h.jsxs)("form",{onSubmit:n((function(e){console.log(e.username),console.log(e.password)})),className:"w-80 bg-white rounded px-4 py-8",children:[Object(h.jsx)("h2",{className:"text-3xl mb-4",children:"Login"}),Object(h.jsx)("label",{htmlFor:"username",className:"mb-10",children:"Username:"}),Object(h.jsx)("input",Object(D.a)(Object(D.a)({},t("username")),{},{id:"username",placeholder:"username",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(h.jsx)("br",{}),Object(h.jsx)("label",{htmlFor:"password",className:"mb-5",children:"Password"}),Object(h.jsx)("input",Object(D.a)(Object(D.a)({},t("password",{required:!0})),{},{id:"password",placeholder:"password",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(h.jsx)("br",{}),a.exampleRequired&&Object(h.jsx)("span",{children:"This field is required"}),Object(h.jsx)("input",{type:"submit",value:"Submit",className:"bg-gradient-to-r from-yellow-200 to-yellow-400 rounded-2xl px-3 py-2"})]})})}var se=n.p+"static/media/emptyAvatar.c3f94521.png",ie=n.p+"static/media/mike.6a2ffcaa.jpeg",oe=$.a.createClient({codec:"h264",mode:"rtc"});var le=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),n=t[0],c=(t[1],Object(i.useState)("")),r=Object(a.a)(c,2),s=r[0],o=(r[1],Object(i.useState)("")),l=Object(a.a)(o,2),u=l[0],d=(l[1],ee(oe)),j=d.localAudioTrack,m=d.localVideoTrack,f=(d.leave,d.join),p=d.joinState,x=d.remoteUsers,v=Object(b.f)();return Object(h.jsxs)("div",{className:"flex flex-wrap flex-grow max-h-screen overflow-hidden",children:[Object(h.jsxs)("section",{id:"mainContent",className:"flex flex-wrap lg:w-4/5 w-3/4",children:[Object(h.jsxs)("div",{className:"w-full h-4/5",children:[Object(h.jsx)("div",{className:"h-full bg-no-repeat bg-cover",style:{backgroundImage:"url(".concat(ie,")")},children:Object(h.jsxs)("div",{className:"button-group",children:[Object(h.jsx)("button",{id:"join",type:"button",className:"px-3 py-2 bg-green-300 text-sm mx-4 mt-3 rounded-md",disabled:p,onClick:function(){f(n,u,s)},children:"Join"}),Object(h.jsx)("button",{id:"leave",type:"button",className:"px-3 py-2 bg-red-400 text-sm mt-3 rounded-md",onClick:function(){j.close(),m.close(),v.push("organizations")},children:"Leave"})]})}),Object(h.jsxs)("div",{className:"player-container",children:[Object(h.jsxs)("div",{className:"local-player-wrapper absolute transform -translate-y-20 -translate-x-20 scale-75",children:[Object(h.jsxs)("p",{className:"local-player-text",children:[m&&"localTrack",p&&m?"(".concat(oe.uid,")"):""]}),Object(h.jsx)(te,{videoTrack:m,audioTrack:void 0})]}),x.map((function(e){return Object(h.jsxs)("div",{className:"remote-player-wrapper",children:[Object(h.jsx)("p",{className:"remote-player-text",children:"remoteVideo(".concat(e.uid,")")}),Object(h.jsx)(te,{videoTrack:e.videoTrack,audioTrack:e.audioTrack})]},e.uid)}))]})]}),Object(h.jsxs)("div",{className:"w-full h-1/5 bg-yellow-200 flex grid grid-cols-6",children:[Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"}),Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"}),Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"}),Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"}),Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"}),Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"})]})]}),Object(h.jsx)("section",{id:"ghost",className:"flex justify-center h-screen sticky top-0 right-0 lg:w-1/5 w-1/4 bg-blue-200"}),Object(h.jsx)("section",{id:"Sidebar",className:"flex justify-center items-end h-screen fixed top-0 right-0 border-l-2 border-gray-600 lg:w-1/5 w-1/4 text-xs lg:text-sm text-center",children:Object(h.jsx)("form",{className:"pb-4 w-full",children:Object(h.jsx)("input",{className:"w-11/12 rounded-sm text-lg",type:"text",placeholder:"Message"})})})]})},ue=$.a.createClient({codec:"h264",mode:"rtc"});var de=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),n=t[0],c=(t[1],Object(i.useState)("")),r=Object(a.a)(c,2),s=r[0],o=(r[1],Object(i.useState)("")),l=Object(a.a)(o,2),u=l[0],d=(l[1],ee(ue)),j=d.localAudioTrack,m=d.localVideoTrack,f=(d.leave,d.join),p=d.joinState,x=d.remoteUsers,v=Object(b.f)();return Object(h.jsxs)("div",{className:"flex flex-wrap flex-grow max-h-screen ",children:[Object(h.jsxs)("section",{id:"mainContent",className:"flex flex-wrap lg:w-4/5 w-3/4",children:[Object(h.jsxs)("div",{className:"w-full h-4/5",children:[Object(h.jsx)("div",{className:"h-full bg-no-repeat bg-cover",style:{backgroundImage:"url(".concat(ie,")")},children:Object(h.jsxs)("div",{className:"button-group",children:[Object(h.jsx)("button",{id:"join",type:"button",className:"px-3 py-2 bg-green-300 text-sm mx-4 mt-3 rounded-md ",disabled:p,onClick:function(){f(n,u,s)},children:"Join"}),Object(h.jsx)("button",{id:"leave",type:"button",className:"px-3 py-2 bg-red-400 text-sm mt-3 rounded-md ",onClick:function(){j.close(),m.close(),v.push("organizations")},children:"Leave"})]})}),Object(h.jsxs)("div",{className:"player-container ",children:[Object(h.jsxs)("div",{className:"local-player-wrapper  scale-x-365 scale-y-275",children:[Object(h.jsxs)("p",{className:"local-player-text",children:[m&&"localTrack",p&&m?"(".concat(ue.uid,")"):""]}),Object(h.jsx)(te,{videoTrack:m,audioTrack:void 0})]}),x.map((function(e){return Object(h.jsxs)("div",{className:"remote-player-wrapper",children:[Object(h.jsx)("p",{className:"remote-player-text",children:"remoteVideo(".concat(e.uid,")")}),Object(h.jsx)(te,{videoTrack:e.videoTrack,audioTrack:e.audioTrack})]},e.uid)}))]})]}),Object(h.jsxs)("div",{className:"w-full h-1/5 bg-yellow-200 flex grid grid-cols-6",children:[Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"}),Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"}),Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"}),Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"}),Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"}),Object(h.jsx)("img",{className:"object-scale-down",src:se,alt:"avatar"})]})]}),Object(h.jsx)("section",{id:"ghost",className:"flex justify-center h-screen sticky top-0 right-0 lg:w-1/5 w-1/4 bg-blue-200"}),Object(h.jsx)("section",{id:"Sidebar",className:"flex justify-center items-end h-screen fixed top-0 right-0 border-l-2 border-gray-600 lg:w-1/5 w-1/4 text-xs lg:text-sm text-center",children:Object(h.jsx)("form",{className:"pb-4 w-full",children:Object(h.jsx)("input",{className:"w-11/12 rounded-sm text-lg",type:"text",placeholder:"Message"})})})]})};function je(){return Object(h.jsxs)(j.a,{children:[Object(h.jsx)("hr",{}),Object(h.jsxs)(b.c,{children:[Object(h.jsx)(b.a,{exact:!0,path:"/",children:Object(h.jsx)(w,{})}),Object(h.jsx)(b.a,{path:"/chat",children:Object(h.jsx)(f,{})}),Object(h.jsx)(b.a,{path:"/organizations",children:Object(h.jsx)(I,{})}),Object(h.jsx)(b.a,{path:"/call",children:Object(h.jsx)(ae,{})}),Object(h.jsx)(b.a,{path:"/test",children:Object(h.jsx)(Z,{})}),Object(h.jsx)(b.a,{path:"/login",children:Object(h.jsx)(re,{})}),Object(h.jsx)(b.a,{path:"/studentview",children:Object(h.jsx)(le,{})}),Object(h.jsx)(b.a,{path:"/teacherview",children:Object(h.jsx)(de,{})})]})]})}var be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},he=n(29),me=n(30),fe=n(75),pe=n(74),xe=n(71),ve=n.n(xe),ge=n(72),Oe=function(e){Object(fe.a)(n,e);var t=Object(pe.a)(n);function n(){var e;return Object(he.a)(this,n),(e=t.call(this)).channels={},e._logined=!1,e}return Object(me.a)(n,[{key:"init",value:function(e){this.client=ve.a.createInstance(e),this.subscribeClientEvents()}},{key:"subscribeClientEvents",value:function(){var e=this;["ConnectionStateChanged","MessageFromPeer"].forEach((function(t){e.client.on(t,(function(){for(var n,a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];(n=console).log.apply(n,["emit ",t].concat(c)),e.emit.apply(e,[t].concat(c))}))}))}},{key:"subscribeChannelEvents",value:function(e){var t=this;["ChannelMessage","MemberJoined","MemberLeft"].forEach((function(n){t.channels[e].channel.on(n,(function(){for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];console.log("emit ",n,c),t.emit(n,{channelName:e,args:c})}))}))}},{key:"login",value:function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.accountName=t,e.abrupt("return",this.client.login({uid:this.accountName,token:n}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.client.logout());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"joinChannel",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("joinChannel",t),n=this.client.createChannel(t),this.channels[t]={channel:n,joined:!1},this.subscribeChannelEvents(t),e.abrupt("return",n.join());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"leaveChannel",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("leaveChannel",t),this.channels[t]&&(!this.channels[t]||this.channels[t].joined)){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",this.channels[t].channel.leave());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendChannelMessage",value:function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.channels[n]&&this.channels[n].joined){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this.channels[n].channel.sendMessage({text:t}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendPeerMessage",value:function(){var e=Object(s.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sendPeerMessage",t,n),e.abrupt("return",this.client.sendMessageToPeer({text:t},n.toString()));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"queryPeersOnlineStatus",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("queryPeersOnlineStatus",t),e.abrupt("return",this.client.queryPeersOnlineStatus([t]));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadImage",value:function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.createMediaMessageByUploading(t,{messageType:"IMAGE",fileName:"agora.jpg",description:"send image",thumbnail:t});case 2:return a=e.sent,e.abrupt("return",this.client.sendMessageToPeer(a,n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendChannelMediaMessage",value:function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("sendChannelMessage",t,n),this.channels[n]&&this.channels[n].joined){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.client.createMediaMessageByUploading(t,{messageType:"IMAGE",fileName:"agora.jpg",description:"send image",thumbnail:t});case 5:return a=e.sent,e.abrupt("return",this.channels[n].channel.sendMessage(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"cancelImage",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,setTimeout((function(){return n.abort()}),1e3),e.next=4,this.client.downloadMedia(t.mediaId,{cancelSignal:n.signal,onOperationProgress:function(e){var t=e.currentSize,n=e.totalSize;console.log(t,n)}});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(n.n(ge).a),ye=n(17),Ne=n(73);function we(e){Ne.toast({html:e.text,classes:e.classes})}var ke=function(e){we({text:e,classes:"notice-toast"})},Ce=function(e){we({text:e,classes:"error-toast"})};function Te(e,t){for(var n=0,a=Object.keys(e);n<a.length;n++){var c=a[n];if(-1!==t.indexOf(c)&&!e[c])return Ce("Please Enter "+c),!1}return!0}function Ie(e){var t,n=d("#"+e).serializeArray(),a={},c=Object(ye.a)(n);try{for(c.s();!(t=c.n()).done;){var r=t.value,s=r.name,i=r.value;a[s]=i}}catch(o){c.e(o)}finally{c.f()}return console.log("form data",a),a}function Me(e,t){!function(e,t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){t(e.target.result)}}(e,(function(e){var n=new Image;n.src=e,t(n)}))}function Se(e,t){!function(e,t){var n=document.createElement("CANVAS"),a=n.getContext("2d"),c=new Image;c.src=e,c.onload=function(){n.width=c.width,n.height=c.height,a.drawImage(c,0,0),t(n)}}(e,(function(e){t(function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],a=atob(t[1]),c=a.length,r=new Uint8Array(c);c--;)r[c]=a.charCodeAt(c);return new Blob([r],{type:n})}(function(e,t,n){return e.toDataURL(t||"image/jpeg",n||1)}(e)))}))}u.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(je,{})}),document.getElementById("root")),be(),d((function(){var e=new Oe;e.on("ConnectionStateChanged",(function(e,t){console.log("reason",t);var n=d("<div/>",{text:["newState: "+e,", reason: ",t].join("")});d("#log").append(n),"ABORTED"===e&&"REMOTE_LOGIN"===t&&(Ce("You have already been kicked off!"),d("#accountName").text("Agora Chatroom"),d("#dialogue-list")[0].innerHTML="",d("#chat-message")[0].innerHTML="")})),e.on("MessageFromPeer",function(){var t=Object(s.a)(r.a.mark((function t(n,a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("IMAGE"!==n.messageType){t.next=7;break}return t.next=3,e.client.downloadMedia(n.mediaId);case 3:Me(t.sent,(function(e){var t=d("<div/>",{text:[" peer: ",a].join("")});d("#log").append(t),d("#log").append("<img src= '".concat(e.src,"'/>"))})),t.next=10;break;case 7:console.log("message "+n.text+" peerId"+a),c=d("<div/>",{text:["message.text: "+n.text,", peer: ",a].join("")}),d("#log").append(c);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),e.on("MemberJoined",(function(e){var t=e.channelName,n=e.args[0];console.log("channel ",t," member: ",n," joined");var a=d("<div/>",{text:["event: MemberJoined ",", channel: ",t,", memberId: ",n].join("")});d("#log").append(a)})),e.on("MemberLeft",(function(e){var t=e.channelName,n=e.args[0];console.log("channel ",t," member: ",n," joined");var a=d("<div/>",{text:["event: MemberLeft ",", channel: ",t,", memberId: ",n].join("")});d("#log").append(a)})),e.on("ChannelMessage",function(){var t=Object(s.a)(r.a.mark((function t(n){var c,s,i,o,l,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n.channelName,s=n.args,i=Object(a.a)(s,2),o=i[0],l=i[1],"IMAGE"!==o.messageType){t.next=9;break}return t.next=5,e.client.downloadMedia(o.mediaId);case 5:Me(t.sent,(function(e){var t=d("<div/>",{text:["event: ChannelMessage ","channel: ",c," memberId: ",l].join("")});d("#log").append(t),d("#log").append("<img src= '".concat(e.src,"'/>"))})),t.next=12;break;case 9:console.log("channel ",c,", messsage: ",o.text,", memberId: ",l),u=d("<div/>",{text:["event: ChannelMessage ","channel: ",c,", message: ",o.text,", memberId: ",l].join("")}),d("#log").append(u);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),d("#login").on("click",(function(t){if(t.preventDefault(),e._logined)Ce("You already logined");else{var n=Ie("loginForm");if(Te(n,["appId","accountName"]))try{e.init(n.appId),window.rtm=e,e.login(n.accountName,n.token).then((function(){console.log("login"),e._logined=!0,ke("Login: "+n.accountName," token: ",n.token)})).catch((function(e){console.log(e)}))}catch(a){Ce("Login failed, please open console see more details"),console.error(a)}}})),d("#logout").on("click",(function(t){t.preventDefault(),e._logined?e.logout().then((function(){console.log("logout"),e._logined=!1,ke("Logout: "+e.accountName)})).catch((function(e){Ce("Logout failed, please open console see more details"),console.log(e)})):Ce("You already logout")})),d("#join").on("click",(function(t){if(t.preventDefault(),e._logined){var n=Ie("loginForm");Te(n,["appId","accountName","channelName"])&&(e.channels[n.channelName]||e.channels[n.channelName]&&e.channels[n.channelName].joined?Ce("You already joined"):e.joinChannel(n.channelName).then((function(){var t=d("<div/>",{text:e.accountName+" join channel success"});d("#log").append(t),e.channels[n.channelName].joined=!0})).catch((function(e){Ce("Join channel failed, please open console see more details."),console.error(e)})))}else Ce("Please Login First")})),d("#leave").on("click",(function(t){if(t.preventDefault(),e._logined){var n=Ie("loginForm");Te(n,["appId","accountName","channelName"])&&((!e.channels[n.channelName]||e.channels[n.channelName]&&!e.channels[n.channelName].joined)&&Ce("You already leave"),e.leaveChannel(n.channelName).then((function(){var t=d("<div/>",{text:e.accountName+" leave channel success"});d("#log").append(t),e.channels[n.channelName]&&(e.channels[n.channelName].joined=!1,e.channels[n.channelName]=null)})).catch((function(e){Ce("Leave channel failed, please open console see more details."),console.error(e)})))}else Ce("Please Login First")})),d("#send_channel_message").on("click",(function(t){if(t.preventDefault(),e._logined){var n=Ie("loginForm");Te(n,["appId","accountName","channelName","channelMessage"])&&((!e.channels[n.channelName]||e.channels[n.channelName]&&!e.channels[n.channelName].joined)&&Ce("Please Join first"),e.sendChannelMessage(n.channelMessage,n.channelName).then((function(){var t=d("<div/>",{text:"account: "+e.accountName+" send : "+n.channelMessage+" channel: "+n.channelName});d("#log").append(t)})).catch((function(e){Ce("Send message to channel "+n.channelName+" failed, please open console see more details."),console.error(e)})))}else Ce("Please Login First")})),d("#send_peer_message").on("click",(function(t){if(t.preventDefault(),e._logined){var n=Ie("loginForm");Te(n,["appId","accountName","peerId","peerMessage"])&&e.sendPeerMessage(n.peerMessage,n.peerId).then((function(){var t=d("<div/>",{text:"account: "+e.accountName+" send : "+n.peerMessage+" peerId: "+n.peerId});d("#log").append(t)})).catch((function(e){Ce("Send message to peer "+n.peerId+" failed, please open console see more details."),console.error(e)}))}else Ce("Please Login First")})),d("#query_peer").on("click",(function(t){if(t.preventDefault(),e._logined){var n=Ie("loginForm");Te(n,["appId","accountName","memberId"])&&e.queryPeersOnlineStatus(n.memberId).then((function(e){var t=d("<div/>",{text:"memberId: "+n.memberId+", online: "+e[n.memberId]});d("#log").append(t)})).catch((function(e){Ce("query peer online status failed, please open console see more details."),console.error(e)}))}else Ce("Please Login First")})),d("#send-image").on("click",function(){var t=Object(s.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),Te(a=Ie("loginForm"),["appId","accountName","peerId"])){t.next=4;break}return t.abrupt("return");case 4:Se(d("img").attr("src"),(function(t){e.uploadImage(t,a.peerId)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),d("#send-channel-image").on("click",function(){var t=Object(s.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),Te(a=Ie("loginForm"),["appId","accountName","channelName"])){t.next=4;break}return t.abrupt("return");case 4:Se(c=d("img").attr("src"),(function(t){e.sendChannelMediaMessage(t,a.channelName).then((function(){var t=d("<div/>",{text:"account: "+e.accountName+" channel: "+a.channelName});d("#log").append(t),d("#log").append("<img src= '".concat(c,"'/>"))})).catch((function(e){Ce("Send message to channel "+a.channelName+" failed, please open console see more details."),console.error(e)}))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},84:function(e,t,n){},94:function(e,t,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.7c6bf8bf.chunk.js.map