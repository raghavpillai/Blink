(this.webpackJsonpblink=this.webpackJsonpblink||[]).push([[0],{124:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(3),s=n.n(r),c=n(6),i=n(1),l=n.n(i),o=n(74),u=n.n(o),d=n(4),b=(n(97),n(14)),j=n(12),h=[{username:"tim",message:"hello"},{username:"Simon",message:"how are you"},{username:"Billy Bob",message:"good and you?"}],m=n(19),p=n(26),x=n(31),f=n(29),O=n(28),v=n(0),g=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={},a.forceUpdateHandler=a.forceUpdateHandler.bind(Object(x.a)(a)),a}return Object(p.a)(n,[{key:"forceUpdateHandler",value:function(){this.forceUpdate()}},{key:"componentDidMount",value:function(){setInterval(this.forceUpdateHandler,1e3)}},{key:"render",value:function(){return Object(v.jsx)("ul",{className:"bg-white h-3/6 m-4 rounded p-4",children:h.map((function(e){return Object(v.jsxs)("li",{children:[e.username,": ",e.message]})}))})}}]),n}(l.a.Component),w=n(7),y=n(23);function N(){var e=Object(y.a)(),t=e.register,n=e.handleSubmit,a=(e.watch,e.formState.errors);return Object(v.jsx)("div",{className:"bg-gray-300 flex justify-center items-center",children:Object(v.jsxs)("form",{onSubmit:n((function(e){h.push({username:e.username,message:e.message}),console.log(h)})),className:"w-80 bg-white rounded px-4 py-8",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},t("username")),{},{id:"username",placeholder:"username",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"message",children:"Message:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},t("message",{required:!0})),{},{id:"message",placeholder:"message",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),a.exampleRequired&&Object(v.jsx)("span",{children:"This field is required"}),Object(v.jsx)("input",{type:"submit",value:"Submit",className:"bg-purple-700 text-white rounded-xl px-3 py-2 transform hover:bg-purple-500 active:scale-110"})]})})}var k=function(){return Object(v.jsxs)("div",{className:"h-screen",children:[Object(v.jsx)(g,{}),Object(v.jsx)(N,{})]})},S=n.p+"static/media/LogoB.5174b438.png",C=n(79),I=n.n(C),M=n(77),A=n.n(M),T=n(80),q=n.n(T);var F=function(){return Object(v.jsxs)("div",{className:"flex md:text-2xl text:lg justify-between bg-gradient-to-r from-purple-700 to-pink-600 ",children:[Object(v.jsx)("div",{className:" text-white p-3 mx-2 justify-self-start transition duration-500 ease-in-out transform hover:-translate-y-1",children:Object(v.jsx)(b.b,{to:"/",children:"Home"})}),Object(v.jsxs)("div",{className:"flex md:pr-3 ",children:[Object(v.jsx)("div",{className:" text-white md:p-3 p-2 mx-2 transition duration-500 ease-in-out transform hover:-translate-y-1",children:Object(v.jsx)("a",{href:"#aboutUs",children:"About Us"})}),Object(v.jsx)("div",{className:" text-white md:p-3 p-2 mx-2 transition duration-500 ease-in-out transform hover:-translate-y-1",children:Object(v.jsx)("a",{href:"#start",children:"Start"})})]})]})};var _=function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){console.log(e),e.isIntersecting?e.target.classList.add("animate-fadeIn"):e.target.classList.remove("animate-fadeIn")}))}));return document.querySelectorAll(".js-show-on-scroll").forEach((function(t){t.classList.add("opacity-0"),e.observe(t)})),Object(v.jsxs)("div",{children:[Object(v.jsx)(F,{}),Object(v.jsx)("title",{children:"Blink - Intuitive Learning"}),Object(v.jsxs)("div",{className:"h-screen bg-white",children:[Object(v.jsx)("div",{className:"absolute top-4/10 left-1/2 transform -translate-x-1/4",children:Object(v.jsx)("img",{className:"w-1/2",src:S,alt:"Blink"})}),Object(v.jsxs)("div",{className:"flex absolute left-1/2 top-3/4 transform -translate-x-1/2  text-2xl",children:[Object(v.jsx)(b.b,{to:"/login",className:"text-white bg-purple-700 mx-9 px-10 py-2 rounded-full",children:"Login"}),Object(v.jsx)(b.b,{to:"/signup",className:"text-white bg-purple-700 mx-9 px-10 py-2 rounded-full",children:"Sign Up"})]})]}),Object(v.jsxs)("div",{className:"h-screen bg-gradient-to-b from-white to-purple-200 flex flex-col items-center",children:[Object(v.jsx)("div",{className:"mt-20 mb-10 text-4xl font-bold",id:"aboutUs",children:" About us"}),Object(v.jsxs)("div",{className:"bg-pink-200 h-1/2 w-2/4 rounded-lg shadow-lg transform hover:scale-110 duration-700 ease-in-out",children:[Object(v.jsx)("div",{className:"p-6 text-lg font-medium",children:"We are dedicated to bridging the gap between interactive learning and the online environment for students and teachers. Blink strives to promote an enganging setting that follows in-person learning through real-time interactive classroom activities. With a more connective present, the horizons of the future becomes limitless."}),Object(v.jsxs)("div",{className:"absolute bottom-0 bg-gray-200 w-full h-1/3 p-4 font-semibold",children:['"Blink is the only application that scales on large classrooms. It\'s easy to adapt, improve, and design classroom environments."',Object(v.jsx)("div",{className:"font-light text-sm text-red-500",children:"-Martha Excalibus"}),Object(v.jsx)("div",{className:"font-light text-sm",children:"Elementary School Teacher, Texas"})]})]})]}),Object(v.jsxs)("div",{className:"h-screen bg-purple-200 flex justify-center flex-wrap",children:[Object(v.jsx)("div",{className:"mt-20  text-4xl font-bold w-full text-center",id:"start",children:" Getting Started"}),Object(v.jsxs)("div",{className:"grid grid-cols-3 gap-4 h-3/5 w-1/2 text-2xl font-semibold",children:[Object(v.jsxs)("div",{className:"rounded-xl bg-white transform hover:skew-y-6 transition duration-300",children:[Object(v.jsx)("div",{className:"text-white w-full h-1/6 bg-purple-700 rounded-t-xl flex justify-center items-center",children:"Discover"}),Object(v.jsx)("div",{className:"p-4 text-lg font-normal h-1/2",children:"Click here to view information on how to use Blink and its features more closely"}),Object(v.jsx)("div",{className:"w-full flex justify-center",children:Object(v.jsx)(A.a,{style:{fontSize:150}})})]}),Object(v.jsxs)("div",{className:"rounded-xl bg-white transform hover:skew-y-6 transition duration-300",children:[Object(v.jsx)("div",{className:"text-white w-full h-1/6 bg-purple-700 rounded-t-xl flex justify-center items-center",children:"Pricing"}),Object(v.jsx)("div",{className:"p-4 text-lg font-normal h-1/2",children:"Check out pricing options based on your needed level of classroom activity"}),Object(v.jsx)("div",{className:"w-full flex justify-center",children:Object(v.jsx)(I.a,{style:{fontSize:150}})})]}),Object(v.jsxs)("div",{className:"rounded-xl bg-white transform hover:skew-y-6 transition duration-300",children:[Object(v.jsx)("div",{className:"text-white w-full h-1/6 bg-purple-700 rounded-t-xl flex justify-center items-center",children:"Reach Out"}),Object(v.jsx)("div",{className:"p-4 text-lg font-normal h-1/2",children:"Feel free to send any questions our way using any form of communication. Click here for all the options to reach out."}),Object(v.jsx)("div",{className:"w-full flex justify-center",children:Object(v.jsx)(q.a,{style:{fontSize:150}})})]})]})]})]})},E=n(17),L=n.n(E),U=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).username="",a.displayName="",a.password="",a}return n}(l.a.Component);n(124);var P=function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("li",{className:"cards__item",children:Object(v.jsxs)("a",{className:"cards__item__link",href:e.path,target:"",children:[Object(v.jsx)("figure",{className:"cards__item__pic-wrap","data-category":e.label,children:Object(v.jsx)("img",{className:"cards__item__img",alt:"image",src:e.src})}),Object(v.jsx)("div",{className:"cards__item__info",children:Object(v.jsx)("h5",{className:"cards__item__text",children:e.text})})]})})})},D=n.p+"static/media/class.be3579b6.jpg";var R=function(e){var t=[];return(new U).name="",L.a.get("http://localhost:4000/api/user/info/classes/"+e).then((function(e){return t})),Object(v.jsxs)("div",{className:"cards h-screen",children:[Object(v.jsx)("title",{children:"Organizations"}),Object(v.jsx)("p",{children:"My classes"}),Object(v.jsx)("div",{className:"cards__container",children:Object(v.jsx)("div",{className:"cards__wrapper",children:Object(v.jsxs)("ul",{className:"cards__items",children:[Object(v.jsx)(P,{src:D,text:"Mathematics / 11:30 - 12:30",label:"Mrs. BJ\xd6RKSN\xc4S",path:"/studentview"}),Object(v.jsx)(P,{src:D,text:"Science / 1:00 - 2:00",label:"Mr. FJ\xc4DERMOLN",path:"/studentview"}),Object(v.jsx)(P,{src:D,text:"English / 9:30 - 10:30",label:"Mr. FR\xd6JERED",path:"/studentview"})]})})})]})};var B=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(F,{}),Object(v.jsx)(R,{})]})},z=n(8),Q=n(36),J={mode:"rtc",codec:"vp8",appId:"79bfd2935ce0436e83cd173585a8a29f",token:"00679bfd2935ce0436e83cd173585a8a29fIAC6laYYqcqc+1fZv7cyLN6U4S5BfsBQxV5ElM8eQ+2lL2TNKL8AAAAAEAApikci8zdaYQEAAQDzN1ph"},V=Object(Q.createClient)(J),Y=Object(Q.createMicrophoneAndCameraTracks)(),H="main",G=n(157);function W(e){var t=e.users,n=e.tracks,r=Object(i.useState)(12),s=Object(a.a)(r,2),c=s[0],l=s[1];return Object(i.useEffect)((function(){l(Math.max(Math.floor(12/(t.length+1)),4))}),[t,n]),Object(v.jsxs)(G.a,{container:!0,style:{height:"100%"},children:[Object(v.jsx)(G.a,{item:!0,xs:c,children:Object(v.jsx)(Q.AgoraVideoPlayer,{videoTrack:n[1],style:{height:"100%",width:"100%"}})}),t.length>0&&t.map((function(e){return e.videoTrack?Object(v.jsx)(G.a,{item:!0,xs:c,children:Object(v.jsx)(Q.AgoraVideoPlayer,{videoTrack:e.videoTrack,style:{height:"100%",width:"100%"}},e.uid)},e.uid):null}))]})}var K=n(81),Z=n.n(K),X=n(82),$=n.n(X),ee=n(83),te=n.n(ee),ne=n(84),ae=n.n(ne),re=n(85),se=n.n(re);function ce(e){var t=V(),n=e.tracks,r=e.setStart,l=e.setInCall,o=Object(i.useState)({video:!0,audio:!0}),u=Object(a.a)(o,2),d=u[0],b=u[1],j=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("audio"!==t){e.next=6;break}return e.next=3,n[0].setEnabled(!d.audio);case 3:b((function(e){return Object(w.a)(Object(w.a)({},e),{},{audio:!e.audio})})),e.next=10;break;case 6:if("video"!==t){e.next=10;break}return e.next=9,n[1].setEnabled(!d.video);case 9:b((function(e){return Object(w.a)(Object(w.a)({},e),{},{video:!e.video})}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.leave();case 2:t.removeAllListeners(),n[0].close(),n[1].close(),r(!1),l(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"flex justify-between border-black border-solid border-2 w-1/4",children:[Object(v.jsx)("button",{onClick:function(){return j("audio")},children:d.audio?Object(v.jsx)(Z.a,{}):Object(v.jsx)($.a,{})}),Object(v.jsx)("button",{onClick:function(){return j("video")},children:d.video?Object(v.jsx)(te.a,{}):Object(v.jsx)(ae.a,{})}),Object(v.jsxs)("button",{onClick:function(){return h()},children:["Leave",Object(v.jsx)(se.a,{})]})]})}function ie(e){var t=e.setInCall,n=Object(i.useState)([]),r=Object(a.a)(n,2),l=r[0],o=r[1],u=Object(i.useState)(!1),d=Object(a.a)(u,2),b=d[0],j=d[1],h=V(),m=Y(),p=m.ready,x=m.tracks;return Object(i.useEffect)((function(){var e=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.on("user-published",function(){var e=Object(c.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.subscribe(t,n);case 2:"video"===n&&o((function(e){return[].concat(Object(z.a)(e),[t])})),"audio"===n&&t.audioTrack.play();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),h.on("user-unpublished",(function(e,t){"audio"===t&&e.audioTrack&&e.audioTrack.stop(),"video"===t&&o((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),h.on("user-left",(function(e){o((function(t){return t.filter((function(t){return t.uid!==e.uid}))}))})),n=!1,e.prev=4,e.next=7,h.join(J.appId,t,J.token,null);case 7:n=!0,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:if(!x||!n){e.next=16;break}return e.next=16,h.publish([x[0],x[1]]);case 16:j(!0);case 17:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();if(p&&x)try{e(H)}catch(t){console.log(t)}}),[H,h,p,x]),Object(v.jsxs)(G.a,{container:!0,className:"bg-pink-400 h-full",children:[Object(v.jsx)(G.a,{item:!0,className:"bg-yellow-100 h-5/6 w-full",children:b&&x&&Object(v.jsx)(W,{tracks:x,users:l})}),Object(v.jsx)(G.a,{item:!0,className:"bg-yellow-100 h-1/6 w-full",children:p&&x&&Object(v.jsx)(ce,{tracks:x,setStart:j,setInCall:t})})]})}var le=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(v.jsx)("div",{className:"border-2 border-green-400 border-solid h-screen",children:n?Object(v.jsx)("div",{className:"h-full w-full",children:Object(v.jsx)(ie,{setInCall:r})}):Object(v.jsx)("button",{onClick:function(){return r(!0)},className:"bg-green-400 px-4 py-2 rounded",children:"Join Call"})})};var oe=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(k,{}),Object(v.jsx)(le,{})]})},ue=n(13),de=n.n(ue);function be(e){var t=Object(i.useState)(void 0),n=Object(a.a)(t,2),r=n[0],l=n[1],o=Object(i.useState)(void 0),u=Object(a.a)(o,2),d=u[0],b=u[1],j=Object(i.useState)(!1),h=Object(a.a)(j,2),m=h[0],p=h[1],x=Object(i.useState)([]),f=Object(a.a)(x,2),O=f[0],v=f[1];function g(e,t){return w.apply(this,arguments)}function w(){return(w=Object(c.a)(s.a.mark((function e(t,n){var r,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.a.createMicrophoneAndCameraTracks(t,n);case 2:return r=e.sent,c=Object(a.a)(r,2),i=c[0],o=c[1],b(i),l(o),e.abrupt("return",[i,o]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(c.a)(s.a.mark((function t(n,r,c,i){var l,o,u,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,g();case 4:return l=t.sent,o=Object(a.a)(l,2),u=o[0],d=o[1],t.next=10,e.join(n,r,c||null);case 10:return t.next=12,e.publish([u,d]);case 12:window.client=e,window.videoTrack=d,p(!0);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d&&(d.stop(),d.close()),r&&(r.stop(),r.close()),v([]),p(!1),t.next=6,null===e||void 0===e?void 0:e.leave();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.useEffect)((function(){if(e){v(e.remoteUsers);var t=function(){var t=Object(c.a)(s.a.mark((function t(n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.subscribe(n,a);case 2:v((function(t){return Array.from(e.remoteUsers)}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),n=function(t){v((function(t){return Array.from(e.remoteUsers)}))},a=function(t){v((function(t){return Array.from(e.remoteUsers)}))},r=function(t){v((function(t){return Array.from(e.remoteUsers)}))};return e.on("user-published",t),e.on("user-unpublished",n),e.on("user-joined",a),e.on("user-left",r),function(){e.off("user-published",t),e.off("user-unpublished",n),e.off("user-joined",a),e.off("user-left",r)}}}),[e]),{localAudioTrack:d,localVideoTrack:r,joinState:m,leave:function(){return N.apply(this,arguments)},join:function(e,t,n,a){return y.apply(this,arguments)},remoteUsers:O}}var je=function(e){var t=Object(i.useRef)(null);return Object(i.useEffect)((function(){var n;if(t.current)return null===(n=e.videoTrack)||void 0===n||n.play(t.current),function(){var t;null===(t=e.videoTrack)||void 0===t||t.stop()}}),[t,e.videoTrack]),Object(i.useEffect)((function(){var t;e.audioTrack&&(null===(t=e.audioTrack)||void 0===t||t.play());return function(){var t;null===(t=e.audioTrack)||void 0===t||t.stop()}}),[e.audioTrack]),Object(v.jsx)("div",{ref:t,className:"video-player",style:{width:"320px",height:"240px"}})},he=de.a.createClient({codec:"h264",mode:"rtc"});var me=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],s=Object(i.useState)(""),c=Object(a.a)(s,2),l=c[0],o=c[1],u=Object(i.useState)(""),d=Object(a.a)(u,2),b=d[0],j=d[1],h=be(he),m=(h.localAudioTrack,h.localVideoTrack),p=h.leave,x=h.join,f=h.joinState,O=h.remoteUsers;return Object(v.jsxs)("div",{className:"call",children:[Object(v.jsxs)("form",{className:"call-form",children:[Object(v.jsxs)("label",{children:["AppID:",Object(v.jsx)("input",{type:"text",name:"appid",onChange:function(e){r(e.target.value)}})]}),Object(v.jsxs)("label",{children:["Token(Optional):",Object(v.jsx)("input",{type:"text",name:"token",onChange:function(e){o(e.target.value)}})]}),Object(v.jsxs)("label",{children:["Channel:",Object(v.jsx)("input",{type:"text",name:"channel",onChange:function(e){j(e.target.value)}})]}),Object(v.jsxs)("div",{className:"button-group",children:[Object(v.jsx)("button",{id:"join",type:"button",className:"btn btn-primary btn-sm",disabled:f,onClick:function(){x(n,b,l)},children:"Join"}),Object(v.jsx)("button",{id:"leave",type:"button",className:"btn btn-primary btn-sm",disabled:!f,onClick:function(){p()},children:"Leave"})]})]}),Object(v.jsxs)("div",{className:"player-container",children:[Object(v.jsxs)("div",{className:"local-player-wrapper",children:[Object(v.jsxs)("p",{className:"local-player-text",children:[m&&"localTrack",f&&m?"(".concat(he.uid,")"):""]}),Object(v.jsx)(je,{videoTrack:m,audioTrack:void 0})]}),O.map((function(e){return Object(v.jsxs)("div",{className:"remote-player-wrapper",children:[Object(v.jsx)("p",{className:"remote-player-text",children:"remoteVideo(".concat(e.uid,")")}),Object(v.jsx)(je,{videoTrack:e.videoTrack,audioTrack:e.audioTrack})]},e.uid)}))]})]})};function pe(){var e=Object(j.f)(),t=Object(y.a)(),n=t.register,a=t.handleSubmit,r=(t.watch,t.formState.errors);return Object(v.jsx)("div",{className:"h-screen bg-gray-300 flex justify-center items-center",children:Object(v.jsxs)("form",{onSubmit:a((function(t){L.a.get("http://localhost:4000/api/user/login/"+t.username+"/"+t.password).then((function(t){console.log(t),"PASSED"==t.data&&e.push("/organizations")}))})),className:"w-80 bg-white rounded px-4 py-8",children:[Object(v.jsx)("h2",{className:"text-3xl mb-4",children:"Login"}),Object(v.jsx)("label",{htmlFor:"username",className:"mb-10",children:"Username:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},n("username")),{},{id:"username",placeholder:"username",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"password",className:"mb-5",children:"Password:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},n("password",{required:!0})),{},{id:"password",placeholder:"password",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),r.exampleRequired&&Object(v.jsx)("span",{children:"This field is required"}),Object(v.jsx)("input",{type:"submit",value:"Submit",className:"bg-purple-700 text-white rounded-xl px-3 py-2 transform hover:bg-purple-500 active:scale-110"})]})})}function xe(){var e=Object(j.f)(),t=Object(y.a)(),n=t.register,a=t.handleSubmit,r=(t.watch,t.formState.errors);return Object(v.jsx)("div",{className:"h-screen bg-gray-300 flex justify-center items-center",children:Object(v.jsxs)("form",{onSubmit:a((function(t){L.a.get("http://localhost:4000/api/user/create/"+t.username+"/"+t.password+"/"+t.displayname).then((function(t){console.log(t),"FAILED"!=t.data&&e.push("/organizations")}))})),className:"w-80 bg-white rounded px-4 py-8",children:[Object(v.jsx)("h2",{className:"text-3xl mb-4",children:"Signup"}),Object(v.jsx)("label",{htmlFor:"username",className:"mb-10",children:"Username:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},n("username")),{},{id:"username",placeholder:"username",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"password",className:"mb-5",children:"Password:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},n("password",{required:!0})),{},{id:"password",placeholder:"password",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"displayname",className:"mb-5",children:"Display Name:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},n("displayname",{required:!0})),{},{id:"displayname",placeholder:"displayname",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),r.exampleRequired&&Object(v.jsx)("span",{children:"This field is required"}),Object(v.jsx)("input",{type:"submit",value:"Submit",className:"bg-purple-700 text-white rounded-xl px-3 py-2 transform hover:bg-purple-500 active:scale-110"})]})})}var fe=n.p+"static/media/emptyAvatar.c3f94521.png";n.p,de.a.createClient({codec:"h264",mode:"rtc"});n.p;var Oe=de.a.createClient({codec:"h264",mode:"rtc"});var ve=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),n=(t[0],t[1],Object(i.useState)("")),r=Object(a.a)(n,2),s=(r[0],r[1],Object(i.useState)("")),c=Object(a.a)(s,2),l=(c[0],c[1],be(Oe));return l.localAudioTrack,l.localVideoTrack,l.leave,l.join,l.joinState,l.remoteUsers,Object(j.f)(),Object(v.jsxs)("div",{className:"flex justify-between h-screen",children:[Object(v.jsxs)("section",{className:"bg-blue-400 h-full w-4/5",children:[Object(v.jsx)("div",{className:"border-black border-2 border-solid h-4/5 overflow-hidden",children:Object(v.jsx)(le,{})}),Object(v.jsxs)("div",{className:"bg-red-200 border-solid h-1/5 flex justify-between",children:[Object(v.jsx)("div",{className:"bg-yellow-200 h-48 w-48",children:Object(v.jsx)("img",{className:"object-scale-down",src:fe,alt:"avatar"})}),Object(v.jsx)("div",{className:"bg-yellow-200 h-48 w-48",children:Object(v.jsx)("img",{className:"object-scale-down",src:fe,alt:"avatar"})}),Object(v.jsx)("div",{className:"bg-yellow-200 h-48 w-48",children:Object(v.jsx)("img",{className:"object-scale-down",src:fe,alt:"avatar"})}),Object(v.jsx)("div",{className:"bg-yellow-200 h-48 w-48",children:Object(v.jsx)("img",{className:"object-scale-down",src:fe,alt:"avatar"})}),Object(v.jsx)("div",{className:"bg-yellow-200 h-48 w-48",children:Object(v.jsx)("img",{className:"object-scale-down",src:fe,alt:"avatar"})}),Object(v.jsx)("div",{className:"bg-yellow-200 h-48 w-48",children:Object(v.jsx)("img",{className:"object-scale-down",src:fe,alt:"avatar"})}),Object(v.jsx)("div",{className:"bg-yellow-200 h-48 w-48",children:Object(v.jsx)("img",{className:"object-scale-down",src:fe,alt:"avatar"})})]})]}),Object(v.jsxs)("aside",{className:"bg-blue-200 h-screen w-1/5",children:[Object(v.jsx)("h2",{className:"text-3xl text-center m-3",children:"Class Chat"}),Object(v.jsx)(k,{})]})]})},ge=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={time:"",question:"",answerChoices:[]},a.setQuestion=a.setQuestion.bind(Object(x.a)(a)),a.time=a.setTime.bind(Object(x.a)(a)),a.addAnswer=a.addAnswer.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(p.a)(n,[{key:"setTime",value:function(e){this.setState({time:e.target.value})}},{key:"setQuestion",value:function(e){this.setState({question:e.target.value})}},{key:"addAnswer",value:function(e){this.state.answerChoices.push([e.target.value,!1])}},{key:"handleSubmit",value:function(e){var t={question:this.state.question,time:15,answers:this.state.answerChoices},n=JSON.stringify(t);L.a.get("http://localhost:4000/api/question/create/math8/"+n).then((function(e){return console.log(e.data)})),alert("Questions sent to students!")}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"h-screen bg-red-200 flex justify-center items-center",children:Object(v.jsxs)("form",{onSubmit:this.handleSubmit,className:"w-80 bg-white rounded px-4 py-8",children:[Object(v.jsx)("h2",{className:"text-3xl mb-4",children:"Quiz"}),Object(v.jsx)("label",{htmlFor:"question",className:"mb-10",children:"Question:"}),Object(v.jsx)("input",{onChange:this.setQuestion,id:"question",placeholder:"question",className:"border text-grey-darkest rounded-md mb-10 p-2"}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"time",className:"mb-5",children:"Time:"}),Object(v.jsx)("input",{onChange:this.state.value,id:"time",placeholder:"Seconds",className:"border text-grey-darkest rounded-md mb-10 p-2"}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"answer",className:"mb-5",children:"Answer:"}),Object(v.jsx)("input",{value:this.state.value,onChange:this.addAnswer,id:"answer",placeholder:"...",className:"border text-grey-darkest rounded-md mb-10 p-2"}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"answer",className:"mb-5",children:"Answer:"}),Object(v.jsx)("input",{value:this.state.value,onChange:this.addAnswer,id:"answer",placeholder:"...",className:"border text-grey-darkest rounded-md mb-10 p-2"}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"answer",className:"mb-5",children:"Answer:"}),Object(v.jsx)("input",{value:this.state.value,onChange:this.addAnswer,id:"answer",placeholder:"...",className:"border text-grey-darkest rounded-md mb-10 p-2"}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"answer",className:"mb-5",children:"Answer:"}),Object(v.jsx)("input",{value:this.state.value,onChange:this.addAnswer,id:"answer",placeholder:"...",className:"border text-grey-darkest rounded-md mb-10 p-2"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"submit",value:"Submit",className:"bg-gradient-to-r from-yellow-200 to-yellow-400 rounded-2xl px-3 py-2"})]})})}}]),n}(l.a.Component);function we(){var e=Object(j.f)(),t=Object(y.a)(),n=t.register,a=t.handleSubmit,r=(t.watch,t.formState.errors);return Object(v.jsx)("div",{className:"h-screen bg-gray-300 flex justify-center items-center",children:Object(v.jsxs)("form",{onSubmit:a((function(t){L.a.get("http://localhost:4000/api/class/enroll/"+t.class+"/"+t.username).then((function(t){console.log(t),"FAILED"!=t.data&&e.push("/")}))})),className:"w-80 bg-white rounded px-4 py-8",children:[Object(v.jsx)("h2",{className:"text-3xl mb-4",children:"Enroll"}),Object(v.jsx)("label",{htmlFor:"username",className:"mb-10",children:"Username:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},n("username")),{},{id:"username",placeholder:"username",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"class",className:"mb-5",children:"Class:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},n("class",{required:!0})),{},{id:"class",placeholder:"class",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),r.exampleRequired&&Object(v.jsx)("span",{children:"This field is required"}),Object(v.jsx)("input",{type:"submit",value:"Submit",className:"bg-purple-700 text-white rounded-xl px-3 py-2 transform hover:bg-purple-500 active:scale-110"})]})})}function ye(){Object(j.f)();var e=Object(y.a)(),t=e.register,n=e.handleSubmit,a=(e.watch,e.formState.errors);return Object(v.jsx)("div",{className:"h-screen bg-gray-300 flex justify-center items-center",children:Object(v.jsxs)("form",{onSubmit:n((function(e){L.a.get("http://localhost:4000/api/class/info/"+e.class).then((function(e){(console.log(e),"FAILED"!=e.data)&&window.open("data:text/json,"+encodeURIComponent(e.data),"_blank").focus()}))})),className:"w-80 bg-white rounded px-4 py-8",children:[Object(v.jsx)("h2",{className:"text-3xl mb-4",children:"Enroll"}),Object(v.jsx)("label",{htmlFor:"class",className:"mb-5",children:"Class:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},t("class",{required:!0})),{},{id:"class",placeholder:"class",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),a.exampleRequired&&Object(v.jsx)("span",{children:"This field is required"}),Object(v.jsx)("input",{type:"submit",value:"Submit",className:"bg-purple-700 text-white rounded-xl px-3 py-2 transform hover:bg-purple-500 active:scale-110"})]})})}var Ne=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={active:!1},a}return Object(p.a)(n,[{key:"render",value:function(){return L.a.get("http://localhost:4000/api/question/check/math8/"+U).then((function(e){return console.log(e.data)})),Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"h-screen bg-red-200 flex justify-center items-center",children:Object(v.jsxs)("form",{onSubmit:this.handleSubmit,className:"w-80 bg-white rounded px-4 py-8",children:[Object(v.jsx)("h2",{className:"text-3xl mb-4",children:"Quiz"}),Object(v.jsx)("label",{htmlFor:"question",className:"mb-10",children:"Question: What is 1 + 3 - 5 + 19"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"checkbox",id:"answer1",name:"answer1",value:"1"}),Object(v.jsx)("label",{for:"answer1",children:" 1"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"checkbox",id:"answer2",name:"answer2",value:"2"}),Object(v.jsx)("label",{for:"answer2",children:" 19"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"checkbox",id:"answer3",name:"answer3",value:"3"}),Object(v.jsx)("label",{for:"answer3",children:" 34"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"checkbox",id:"answer4",name:"answer4",value:"4"}),Object(v.jsx)("label",{for:"answer4",children:" 12"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"submit",value:"Submit",className:"bg-gradient-to-r from-yellow-200 to-yellow-400 rounded-2xl px-3 py-2"})]})})})}}]),n}(l.a.Component);function ke(){var e=Object(j.f)(),t=Object(y.a)(),n=t.register,a=t.handleSubmit,r=(t.watch,t.formState.errors);return Object(v.jsx)("div",{className:"h-screen bg-gray-300 flex justify-center items-center",children:Object(v.jsxs)("form",{onSubmit:a((function(t){L.a.get("http://localhost:4000/api/class/question/"+t.class+"/"+t.question+"/"+t.username).then((function(t){console.log(t),"FAILED"!=t.data&&e.push("/")}))})),className:"w-80 bg-white rounded px-4 py-8",children:[Object(v.jsx)("h2",{className:"text-3xl mb-4",children:"Signup"}),Object(v.jsx)("label",{htmlFor:"username",className:"mb-10",children:"Username:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},n("username")),{},{id:"username",placeholder:"username",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"class",className:"mb-5",children:"Class:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},n("class",{required:!0})),{},{id:"class",placeholder:"class",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"question",className:"mb-5",children:"Question:"}),Object(v.jsx)("br",{}),Object(v.jsx)("input",Object(w.a)(Object(w.a)({},n("question",{required:!0})),{},{id:"question",placeholder:"question",className:"border text-grey-darkest rounded-md mb-10 p-2"})),Object(v.jsx)("br",{}),r.exampleRequired&&Object(v.jsx)("span",{children:"This field is required"}),Object(v.jsx)("input",{type:"submit",value:"Submit",className:"bg-purple-700 text-white rounded-xl px-3 py-2 transform hover:bg-purple-500 active:scale-110"})]})})}function Se(){return Object(v.jsxs)(b.a,{children:[Object(v.jsx)("hr",{}),Object(v.jsxs)(j.c,{children:[Object(v.jsx)(j.a,{exact:!0,path:"/",children:Object(v.jsx)(_,{})}),Object(v.jsx)(j.a,{path:"/chat",children:Object(v.jsx)(k,{})}),Object(v.jsx)(j.a,{path:"/organizations",children:Object(v.jsx)(B,{})}),Object(v.jsx)(j.a,{path:"/call",children:Object(v.jsx)(me,{})}),Object(v.jsx)(j.a,{path:"/test",children:Object(v.jsx)(oe,{})}),Object(v.jsx)(j.a,{path:"/login",children:Object(v.jsx)(pe,{})}),Object(v.jsx)(j.a,{path:"/signup",children:Object(v.jsx)(xe,{})}),Object(v.jsx)(j.a,{path:"/studentview",children:Object(v.jsx)(ve,{})}),Object(v.jsx)(j.a,{path:"/teacherquestion",children:Object(v.jsx)(ge,{})}),Object(v.jsx)(j.a,{path:"/enroll",children:Object(v.jsx)(we,{})}),Object(v.jsx)(j.a,{path:"/seeclass",children:Object(v.jsx)(ye,{})}),Object(v.jsx)(j.a,{path:"/studentquestion",children:Object(v.jsx)(Ne,{})}),Object(v.jsx)(j.a,{path:"/askquestion",children:Object(v.jsx)(ke,{})})]})]})}var Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},Ie=n(86),Me=n.n(Ie),Ae=n(87),Te=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.call(this)).channels={},e._logined=!1,e}return Object(p.a)(n,[{key:"init",value:function(e){this.client=Me.a.createInstance(e),this.subscribeClientEvents()}},{key:"subscribeClientEvents",value:function(){var e=this;["ConnectionStateChanged","MessageFromPeer"].forEach((function(t){e.client.on(t,(function(){for(var n,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];(n=console).log.apply(n,["emit ",t].concat(r)),e.emit.apply(e,[t].concat(r))}))}))}},{key:"subscribeChannelEvents",value:function(e){var t=this;["ChannelMessage","MemberJoined","MemberLeft"].forEach((function(n){t.channels[e].channel.on(n,(function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];console.log("emit ",n,r),t.emit(n,{channelName:e,args:r})}))}))}},{key:"login",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.accountName=t,e.abrupt("return",this.client.login({uid:this.accountName,token:n}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.client.logout());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"joinChannel",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("joinChannel",t),n=this.client.createChannel(t),this.channels[t]={channel:n,joined:!1},this.subscribeChannelEvents(t),e.abrupt("return",n.join());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"leaveChannel",value:function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("leaveChannel",t),this.channels[t]&&(!this.channels[t]||this.channels[t].joined)){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",this.channels[t].channel.leave());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendChannelMessage",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.channels[n]&&this.channels[n].joined){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",this.channels[n].channel.sendMessage({text:t}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendPeerMessage",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sendPeerMessage",t,n),e.abrupt("return",this.client.sendMessageToPeer({text:t},n.toString()));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"queryPeersOnlineStatus",value:function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("queryPeersOnlineStatus",t),e.abrupt("return",this.client.queryPeersOnlineStatus([t]));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadImage",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.createMediaMessageByUploading(t,{messageType:"IMAGE",fileName:"agora.jpg",description:"send image",thumbnail:t});case 2:return a=e.sent,e.abrupt("return",this.client.sendMessageToPeer(a,n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendChannelMediaMessage",value:function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("sendChannelMessage",t,n),this.channels[n]&&this.channels[n].joined){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.client.createMediaMessageByUploading(t,{messageType:"IMAGE",fileName:"agora.jpg",description:"send image",thumbnail:t});case 5:return a=e.sent,e.abrupt("return",this.channels[n].channel.sendMessage(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"cancelImage",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AbortController,setTimeout((function(){return n.abort()}),1e3),e.next=4,this.client.downloadMedia(t.mediaId,{cancelSignal:n.signal,onOperationProgress:function(e){var t=e.currentSize,n=e.totalSize;console.log(t,n)}});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(n.n(Ae).a),qe=n(20),Fe=n(88);function _e(e){Fe.toast({html:e.text,classes:e.classes})}var Ee=function(e){_e({text:e,classes:"notice-toast"})},Le=function(e){_e({text:e,classes:"error-toast"})};function Ue(e,t){for(var n=0,a=Object.keys(e);n<a.length;n++){var r=a[n];if(-1!==t.indexOf(r)&&!e[r])return Le("Please Enter "+r),!1}return!0}function Pe(e){var t,n=d("#"+e).serializeArray(),a={},r=Object(qe.a)(n);try{for(r.s();!(t=r.n()).done;){var s=t.value,c=s.name,i=s.value;a[c]=i}}catch(l){r.e(l)}finally{r.f()}return console.log("form data",a),a}function De(e,t){!function(e,t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){t(e.target.result)}}(e,(function(e){var n=new Image;n.src=e,t(n)}))}function Re(e,t){!function(e,t){var n=document.createElement("CANVAS"),a=n.getContext("2d"),r=new Image;r.src=e,r.onload=function(){n.width=r.width,n.height=r.height,a.drawImage(r,0,0),t(n)}}(e,(function(e){t(function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],a=atob(t[1]),r=a.length,s=new Uint8Array(r);r--;)s[r]=a.charCodeAt(r);return new Blob([s],{type:n})}(function(e,t,n){return e.toDataURL(t||"image/jpeg",n||1)}(e)))}))}u.a.render(Object(v.jsx)(l.a.StrictMode,{children:Object(v.jsx)(Se,{})}),document.getElementById("root")),Ce(),d((function(){var e=new Te;e.on("ConnectionStateChanged",(function(e,t){console.log("reason",t);var n=d("<div/>",{text:["newState: "+e,", reason: ",t].join("")});d("#log").append(n),"ABORTED"===e&&"REMOTE_LOGIN"===t&&(Le("You have already been kicked off!"),d("#accountName").text("Agora Chatroom"),d("#dialogue-list")[0].innerHTML="",d("#chat-message")[0].innerHTML="")})),e.on("MessageFromPeer",function(){var t=Object(c.a)(s.a.mark((function t(n,a){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("IMAGE"!==n.messageType){t.next=7;break}return t.next=3,e.client.downloadMedia(n.mediaId);case 3:De(t.sent,(function(e){var t=d("<div/>",{text:[" peer: ",a].join("")});d("#log").append(t),d("#log").append("<img src= '".concat(e.src,"'/>"))})),t.next=10;break;case 7:console.log("message "+n.text+" peerId"+a),r=d("<div/>",{text:["message.text: "+n.text,", peer: ",a].join("")}),d("#log").append(r);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),e.on("MemberJoined",(function(e){var t=e.channelName,n=e.args[0];console.log("channel ",t," member: ",n," joined");var a=d("<div/>",{text:["event: MemberJoined ",", channel: ",t,", memberId: ",n].join("")});d("#log").append(a)})),e.on("MemberLeft",(function(e){var t=e.channelName,n=e.args[0];console.log("channel ",t," member: ",n," joined");var a=d("<div/>",{text:["event: MemberLeft ",", channel: ",t,", memberId: ",n].join("")});d("#log").append(a)})),e.on("ChannelMessage",function(){var t=Object(c.a)(s.a.mark((function t(n){var r,c,i,l,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.channelName,c=n.args,i=Object(a.a)(c,2),l=i[0],o=i[1],"IMAGE"!==l.messageType){t.next=9;break}return t.next=5,e.client.downloadMedia(l.mediaId);case 5:De(t.sent,(function(e){var t=d("<div/>",{text:["event: ChannelMessage ","channel: ",r," memberId: ",o].join("")});d("#log").append(t),d("#log").append("<img src= '".concat(e.src,"'/>"))})),t.next=12;break;case 9:console.log("channel ",r,", messsage: ",l.text,", memberId: ",o),u=d("<div/>",{text:["event: ChannelMessage ","channel: ",r,", message: ",l.text,", memberId: ",o].join("")}),d("#log").append(u);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),d("#login").on("click",(function(t){if(t.preventDefault(),e._logined)Le("You already logined");else{var n=Pe("loginForm");if(Ue(n,["appId","accountName"]))try{e.init(n.appId),window.rtm=e,e.login(n.accountName,n.token).then((function(){console.log("login"),e._logined=!0,Ee("Login: "+n.accountName," token: ",n.token)})).catch((function(e){console.log(e)}))}catch(a){Le("Login failed, please open console see more details"),console.error(a)}}})),d("#logout").on("click",(function(t){t.preventDefault(),e._logined?e.logout().then((function(){console.log("logout"),e._logined=!1,Ee("Logout: "+e.accountName)})).catch((function(e){Le("Logout failed, please open console see more details"),console.log(e)})):Le("You already logout")})),d("#join").on("click",(function(t){if(t.preventDefault(),e._logined){var n=Pe("loginForm");Ue(n,["appId","accountName","channelName"])&&(e.channels[n.channelName]||e.channels[n.channelName]&&e.channels[n.channelName].joined?Le("You already joined"):e.joinChannel(n.channelName).then((function(){var t=d("<div/>",{text:e.accountName+" join channel success"});d("#log").append(t),e.channels[n.channelName].joined=!0})).catch((function(e){Le("Join channel failed, please open console see more details."),console.error(e)})))}else Le("Please Login First")})),d("#leave").on("click",(function(t){if(t.preventDefault(),e._logined){var n=Pe("loginForm");Ue(n,["appId","accountName","channelName"])&&((!e.channels[n.channelName]||e.channels[n.channelName]&&!e.channels[n.channelName].joined)&&Le("You already leave"),e.leaveChannel(n.channelName).then((function(){var t=d("<div/>",{text:e.accountName+" leave channel success"});d("#log").append(t),e.channels[n.channelName]&&(e.channels[n.channelName].joined=!1,e.channels[n.channelName]=null)})).catch((function(e){Le("Leave channel failed, please open console see more details."),console.error(e)})))}else Le("Please Login First")})),d("#send_channel_message").on("click",(function(t){if(t.preventDefault(),e._logined){var n=Pe("loginForm");Ue(n,["appId","accountName","channelName","channelMessage"])&&((!e.channels[n.channelName]||e.channels[n.channelName]&&!e.channels[n.channelName].joined)&&Le("Please Join first"),e.sendChannelMessage(n.channelMessage,n.channelName).then((function(){var t=d("<div/>",{text:"account: "+e.accountName+" send : "+n.channelMessage+" channel: "+n.channelName});d("#log").append(t)})).catch((function(e){Le("Send message to channel "+n.channelName+" failed, please open console see more details."),console.error(e)})))}else Le("Please Login First")})),d("#send_peer_message").on("click",(function(t){if(t.preventDefault(),e._logined){var n=Pe("loginForm");Ue(n,["appId","accountName","peerId","peerMessage"])&&e.sendPeerMessage(n.peerMessage,n.peerId).then((function(){var t=d("<div/>",{text:"account: "+e.accountName+" send : "+n.peerMessage+" peerId: "+n.peerId});d("#log").append(t)})).catch((function(e){Le("Send message to peer "+n.peerId+" failed, please open console see more details."),console.error(e)}))}else Le("Please Login First")})),d("#query_peer").on("click",(function(t){if(t.preventDefault(),e._logined){var n=Pe("loginForm");Ue(n,["appId","accountName","memberId"])&&e.queryPeersOnlineStatus(n.memberId).then((function(e){var t=d("<div/>",{text:"memberId: "+n.memberId+", online: "+e[n.memberId]});d("#log").append(t)})).catch((function(e){Le("query peer online status failed, please open console see more details."),console.error(e)}))}else Le("Please Login First")})),d("#send-image").on("click",function(){var t=Object(c.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),Ue(a=Pe("loginForm"),["appId","accountName","peerId"])){t.next=4;break}return t.abrupt("return");case 4:Re(d("img").attr("src"),(function(t){e.uploadImage(t,a.peerId)}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),d("#send-channel-image").on("click",function(){var t=Object(c.a)(s.a.mark((function t(n){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),Ue(a=Pe("loginForm"),["appId","accountName","channelName"])){t.next=4;break}return t.abrupt("return");case 4:Re(r=d("img").attr("src"),(function(t){e.sendChannelMediaMessage(t,a.channelName).then((function(){var t=d("<div/>",{text:"account: "+e.accountName+" channel: "+a.channelName});d("#log").append(t),d("#log").append("<img src= '".concat(r,"'/>"))})).catch((function(e){Le("Send message to channel "+a.channelName+" failed, please open console see more details."),console.error(e)}))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},97:function(e,t,n){}},[[145,1,2]]]);
//# sourceMappingURL=main.7eebcb24.chunk.js.map